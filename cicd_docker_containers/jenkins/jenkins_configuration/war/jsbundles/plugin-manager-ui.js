!function(e){function n(n){for(var a,l,o=n[0],s=n[1],u=n[2],d=0,f=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(c&&c(n);f.length;)f.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,o=1;o<t.length;o++){var s=t[o];0!==r[s]&&(a=!1)}a&&(i.splice(n--,1),e=l(l.s=t[0]))}return e}var a={},r={7:0},i=[];function l(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=a,l.d=function(e,n,t){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)l.d(t,a,function(n){return e[n]}.bind(null,a));return t},l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var c=s;i.push([48,0]),t()}({2:function(e,n,t){"use strict";var a=t(0),r=t.n(a),i=t(1),l=t.n(i),o=t(3),s=t.n(o),u={baseUrl:function(){var e=r()("head").attr("data-rooturl");return e||(e=""),e},stringify:function(e){if(!Array.prototype.toJSON)return JSON.stringify(e);var n={a:Array.prototype.toJSON,o:Object.prototype.toJSON,h:Hash.prototype.toJSON,s:String.prototype.toJSON};try{return delete Array.prototype.toJSON,delete Object.prototype.toJSON,delete Hash.prototype.toJSON,delete String.prototype.toJSON,JSON.stringify(e)}finally{n.a&&(Array.prototype.toJSON=n.a),n.o&&(Object.prototype.toJSON=n.o),n.h&&(Hash.prototype.toJSON=n.h),n.s&&(String.prototype.toJSON=n.s)}},goTo:function(e){l.a.getWindow().location.replace(u.baseUrl()+e)},get:function(e,n,t){var a={url:u.baseUrl()+e,type:"GET",cache:!1,dataType:"json",success:n};t instanceof Object&&r.a.extend(a,t),r.a.ajax(a)},post:function(e,n,t,a){var i,o={},s=l.a.getWindow();"crumb"in a?i=a.crumb:"crumb"in s&&(i=s.crumb),i&&(o[i.fieldName]=i.value);var c=n;c instanceof Object&&(i&&((c=r.a.extend({},c))[i.fieldName]=i.value),c=u.stringify(c));var d={url:u.baseUrl()+e,type:"POST",cache:!1,dataType:"json",data:c,contentType:"application/json",success:t,headers:o};a instanceof Object&&r.a.extend(d,a),r.a.ajax(d)},initHandlebars:function(){return s.a},loadTranslations:function(e,n,t){u.get("/i18n/resourceBundle?baseName="+e,(function(e){if("ok"!==e.status)throw t&&t(e.message),"Unable to load localization data: "+e.message;var a=e.data;"undefined"!=typeof Proxy&&(a=new Proxy(a,{get:function(e,n){return n in e?e[n]:n}})),n(a)}))},testConnectivity:function(e,n){!function t(){u.get("/updateCenter/connectionStatus?siteId="+e,(function(e){"ok"!==e.status&&n(!1,!0,e.message);var a=["PRECHECK","CHECKING","UNCHECKED"];a.indexOf(e.data.updatesite)>=0||a.indexOf(e.data.internet)>=0?setTimeout(t,100):"ok"!==e.status||"OK"!==e.data.updatesite||"OK"!==e.data.internet&&"SKIPPED"!==e.data.internet?n(!1,!1):n(!0)}),{error:function(e,t,a){403===e.status?u.goTo("/login"):n.call({isError:!0,errorMessage:a})}})}()},getWindow:function(e){e=r()(e);var n=l.a.getWindow();return r()(top.document).find("iframe").each((function(){var t=this.contentWindow;r()(this).contents().find("form").each((function(){e[0]===this&&(n=t)}))})),n},buildFormPost:function(e){e=r()(e);var n=u.getWindow(e),t=e[0];return n.buildFormTree(t)?e.serialize()+"&"+r.a.param({"core:apply":"",Submit:"Save",json:e.find("input[name=json]").val()}):""},getFormCrumb:function(e){return e=r()(e),u.getWindow(e).crumb},staplerPost:function(e,n,t,a){n=r()(n);var i=u.buildFormPost(n),l=u.getFormCrumb(n);u.post(e,i,t,r.a.extend({processData:!1,contentType:"application/x-www-form-urlencoded",crumb:l},a))}};n.a=u},36:function(e,n,t){var a=t(3);e.exports=(a.default||a).template({1:function(e,n,t,a){var r,i=this.lambda,l=this.escapeExpression;return'    <tr data-plugin-id="'+l(i(null!=e?e.name:e,e))+'" data-plugin-version="'+l(i(null!=e?e.version:e,e))+'">\n'+(null!=(r=n.if.call(e,(r=a&&a.root)&&r.admin,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?r:"")+'        <td>\n            <div>\n                <a href="'+l(i(null!=e?e.wiki:e,e))+'" class="jenkins-table__link" target="_blank" rel="noopener noreferrer">\n                    '+l(i(null!=e?e.displayName:e,e))+'\n                    <span class="jenkins-visually-hidden">Version</span>\n                    <span class="jenkins-label jenkins-label--tertiary" style="margin-left: 1ch;">'+l(i(null!=e?e.version:e,e))+"</span>\n                </a>\n            </div>\n"+(null!=(r=n.if.call(e,null!=e?e.categories:e,{name:"if",hash:{},fn:this.program(4,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.excerpt:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.newerCoreRequired:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.dependenciesNewerJava:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.unresolvedSecurityWarnings:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.deprecated:e,{name:"if",hash:{},fn:this.program(16,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.adoptMe:e,{name:"if",hash:{},fn:this.program(18,a,0),inverse:this.noop,data:a}))?r:"")+(null!=(r=n.if.call(e,null!=e?e.newerVersionAvailableNotOffered:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.noop,data:a}))?r:"")+'        </td>\n        <td width="25%">\n'+(null!=(r=n.if.call(e,null!=e?e.releaseTimestamp:e,{name:"if",hash:{},fn:this.program(22,a,0),inverse:this.noop,data:a}))?r:"")+"        </td>\n    </tr>\n"},2:function(e,n,t,a){var r=this.lambda,i=this.escapeExpression;return'            <td align="center">\n                <input type="checkbox" name="plugin.'+i(r(null!=e?e.name:e,e))+"."+i(r(null!=e?e.sourceId:e,e))+'">\n            </td>\n'},4:function(e,n,t,a){var r;return'                <div class="app-plugin-manager__categories">\n'+(null!=(r=n.each.call(e,null!=e?e.categories:e,{name:"each",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?r:"")+"                </div>\n"},5:function(e,n,t,a){var r=this.lambda,i=this.escapeExpression;return'                        <a href="?filter='+i(r(e,e))+'" class="jenkins-table__link jenkins-table__badge">\n                        '+i(r(e,e))+"\n                        </a>\n"},7:function(e,n,t,a){var r;return'                <div class="except">\n                    '+(null!=(r=this.lambda(null!=e?e.excerpt:e,e))?r:"")+"\n                </div>\n"},9:function(e,n,t,a){var r;return'                <div class="alert alert-danger">\n                    '+(null!=(r=this.lambda(null!=e?e.newerCoreRequired:e,e))?r:"")+"\n                </div>\n"},11:function(e,n,t,a){var r;return'                <div class="alert alert-danger">\n                    '+(null!=(r=this.lambda(null!=e?e.dependenciesNewerJava:e,e))?r:"")+"\n                </div>\n"},13:function(e,n,t,a){var r;return'                <div class="alert alert-danger">\n                    '+this.escapeExpression(this.lambda(null!=(r=null!=e?e.unresolvedSecurityWarnings:e)?r.text:r,e))+"\n                    <ul>\n"+(null!=(r=n.each.call(e,null!=(r=null!=e?e.unresolvedSecurityWarnings:e)?r.warnings:r,{name:"each",hash:{},fn:this.program(14,a,0),inverse:this.noop,data:a}))?r:"")+"                    </ul>\n                </div>\n"},14:function(e,n,t,a){var r=this.lambda,i=this.escapeExpression;return'                            <li>\n                                <a href="'+i(r(null!=e?e.url:e,e))+'" target="_blank" rel="noopener noreferrer">\n                                    '+i(r(null!=e?e.message:e,e))+"\n                                </a>\n                            </li>\n"},16:function(e,n,t,a){var r;return'                <div class="alert alert-warning">\n                    '+(null!=(r=this.lambda(null!=e?e.deprecated:e,e))?r:"")+"\n                </div>\n"},18:function(e,n,t,a){var r;return'                <div class="alert alert-warning">\n                    '+(null!=(r=this.lambda(null!=e?e.adoptMe:e,e))?r:"")+"\n                </div>\n"},20:function(e,n,t,a){var r;return'                <div class="alert alert-info">\n                    '+(null!=(r=this.lambda(null!=e?e.newerVersionAvailableNotOffered:e,e))?r:"")+"\n                </div>\n"},22:function(e,n,t,a){var r,i=this.lambda,l=this.escapeExpression;return'                <time datetime="'+l(i(null!=(r=null!=e?e.releaseTimestamp:e)?r.iso8601:r,e))+'">\n                    '+l(i(null!=(r=null!=e?e.releaseTimestamp:e)?r.displayValue:r,e))+"\n                </time>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,n,t,a){var r;return null!=(r=n.each.call(e,null!=e?e.plugins:e,{name:"each",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?r:""},useData:!0})},48:function(e,n,t){e.exports=t(49)},49:function(e,n,t){"use strict";t.r(n);var a=t(10),r=t.n(a),i=t(35),l=t.n(i),o=t(36),s=t.n(o),u=t(5),c=document.getElementById("filter-box");function d(e){u.a.availablePluginsSearch(e.toLowerCase().trim(),50,(function(e){var n=document.getElementById("plugins"),t=n.querySelector("tbody"),a="true"===n.dataset.hasadmin,r=[];c.parentElement.classList.remove("jenkins-search--loading"),function(){if(a){var e=t.querySelectorAll("tr");e&&(r=[],e.forEach((function(e){var n=e.querySelector("input");if(!0===n.checked){var t=n.name.split(".")[1];r.push(t)}else e.remove()})))}else t.innerHTML=""}();var i=s()({plugins:e.filter((function(e){return-1===r.indexOf(e.name)})),admin:a});t.insertAdjacentHTML("beforeend",i),l()((function(){layoutUpdateCallback.call()}))}))}var f=r()((function(e){d(e.target.value)}),150);document.addEventListener("DOMContentLoaded",(function(){c.addEventListener("input",(function(e){f(e),c.parentElement.classList.add("jenkins-search--loading")})),d(c.value),setTimeout((function(){layoutUpdateCallback.call()}),350)}))},5:function(e,n,t){"use strict";var a,r=t(2),i={initialPluginList:function(e){r.a.get("/setupWizard/platformPluginList",(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,data:n.data})}),{timeout:l,error:function(n,t,a){e.call({isError:!0,errorMessage:a})}})},init:function(e){i.initialPluginList((function(n){(a={}).names=[],a.recommendedPlugins=[],a.availablePlugins=n;for(var t=0;t<n.length;t++)for(var r=n[t],i=r.plugins,l=0;l<i.length;l++){var o=i[l],s=o.name;if(-1===a.names.indexOf(s))if(a.names.push(s),o.suggested)a.recommendedPlugins.push(s);else if("Languages"===r.category){s==="localization-"+(window.navigator.userLanguage||window.navigator.language).toLocaleLowerCase()&&a.recommendedPlugins.push(s)}}e()}))}},l=1e4;i.plugins=function(){return a.availablePlugins},i.pluginNames=function(){return a.names},i.recommendedPluginNames=function(){return a.recommendedPlugins.slice()},i.installPlugins=function(e,n){r.a.post("/pluginManager/installPlugins",{dynamicLoad:!0,plugins:e},(function(e){"ok"===e.status?n.call({isError:!1},e.data.correlationId):n.call({isError:!0,errorMessage:e.message})}),{timeout:l,error:function(e,t,a){n.call({isError:!0,errorMessage:a})}})},i.installStatus=function(e,n){var t="/updateCenter/installStatus";void 0!==n&&(t+="?correlationId="+n),r.a.get(t,(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,errorMessage:n.message})}),{timeout:l,error:function(n,t,a){e.call({isError:!0,errorMessage:a})}})},i.availablePlugins=function(e){r.a.get("/pluginManager/plugins",(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,errorMessage:n.message})}),{timeout:l,error:function(n,t,a){e.call({isError:!0,errorMessage:a})}})},i.availablePluginsSearch=function(e,n,t){r.a.get("/pluginManager/pluginsSearch?query="+e+"&limit="+n,(function(e){"ok"===e.status?t.call({isError:!1},e.data):t.call({isError:!0,errorMessage:e.message})}),{timeout:l,error:function(e,n,a){t.call({isError:!0,errorMessage:a})}})},i.incompleteInstallStatus=function(e,n){var t="/updateCenter/incompleteInstallStatus";void 0!==n&&(t+="?correlationId="+n),r.a.get(t,(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,errorMessage:n.message})}),{timeout:l,error:function(n,t,a){e.call({isError:!0,errorMessage:a})}})},i.completeInstall=function(e){r.a.post("/setupWizard/completeInstall",{},(function(){e.call({isError:!1})}),{timeout:l,error:function(n,t,a){e.call({isError:!0,message:a})}})},i.getRestartStatus=function(e){r.a.get("/setupWizard/restartStatus",(function(n){e.call({isError:!1},n.data)}),{timeout:l,error:function(n,t,a){e.call({isError:!0,message:a})}})},i.installPluginsDone=function(e){r.a.post("/pluginManager/installPluginsDone",{},(function(){e()}),{timeout:l,error:function(n,t,a){e.call({isError:!0,message:a})}})},i.restartJenkins=function(e){r.a.post("/updateCenter/safeRestart",{},(function(){e.call({isError:!1})}),{timeout:l,error:function(n,t,a){e.call({isError:!0,message:a})}})},n.a=i}});
//# sourceMappingURL=plugin-manager-ui.js.map